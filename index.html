<!doctype html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–û—Ç–∫—Ä—ã—Ç–∫–∞ üíò</title>

<style>
:root{
  --bg1:#ffdde9;
  --bg2:#fff6fb;
  --card:#ffffffcc;
  --text:#1f1f1f;
  --accent:#ff3b6b;
  --yes:#2dd4bf;
}

*{box-sizing:border-box}

body{
  margin:0;
  min-height:100vh;
  display:grid;
  place-items:center;
  font-family:system-ui;
  background:linear-gradient(135deg,var(--bg1),var(--bg2));
  overflow:hidden;
}

/* Canvas */
#fx{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:99;
}

/* Card */
.card{
  width:min(720px,92vw);
  min-height:min(560px,86vh);

  display:flex;
  flex-direction:column;
  justify-content:center;

  padding:60px 30px 50px;

  background:var(--card);
  border-radius:32px;
  box-shadow:0 20px 60px rgba(0,0,0,.15);
  text-align:center;
  position:relative;
}

/* Heart */
.heart-wrap{
  margin-bottom:15px;
}

.heart{
  width:140px;
  height:140px;
  background:var(--accent);
  transform:rotate(45deg);
  margin:auto;
  position:relative;
  border-radius:18px;
  animation:pulse 1s infinite;
}

.heart:before,.heart:after{
  content:"";
  width:140px;
  height:140px;
  background:var(--accent);
  border-radius:50%;
  position:absolute;
}

.heart:before{left:-70px}
.heart:after{top:-70px}

@keyframes pulse{
  0%,100%{transform:rotate(45deg) scale(1)}
  50%{transform:rotate(45deg) scale(1.06)}
}

/* Title */
h1{
  font-size:clamp(24px,3vw,36px);
  margin:10px 0 20px;
}

/* Buttons */
.arena{
  display:flex;
  justify-content:center;
  gap:16px;
}

.btn{
  padding:14px 26px;
  border:0;
  border-radius:16px;
  font-size:18px;
  font-weight:700;
  cursor:pointer;
}

#yes{
  background:var(--yes);
}

#no{
  background:#ff5a7d;
  color:white;
  transition:.3s;
  will-change:transform;
}

/* Message */
.msg{
  margin-top:20px;
  font-size:24px;
  font-weight:700;
  opacity:0;
  transition:.4s;
}

.msg.show{opacity:1}
</style>
</head>

<body>

<canvas id="fx"></canvas>

<div class="card">

  <div class="heart-wrap">
    <div class="heart"></div>
  </div>

  <h1 id="title">–ü—Ä–∏–Ω—Ü–µ—Å—Å–∫–∞, —Ç—ã –±—É–¥–µ—à—å –º–æ–µ–π –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–æ–π?</h1>

  <div class="arena" id="arena">
    <button class="btn" id="yes">–î–∞</button>
    <button class="btn" id="no">–ù–µ—Ç</button>
  </div>

  <div class="msg" id="msg"></div>

</div>

<script>
/* ---------- NO BUTTON ---------- */

const noBtn=document.getElementById('no');
const arena=document.getElementById('arena');

let x=0,y=0;

function clamp(v,min,max){
  return Math.max(min,Math.min(max,v))
}

function moveNo(e){
  const a=arena.getBoundingClientRect();
  const b=noBtn.getBoundingClientRect();

  const px=e.clientX-a.left;
  const py=e.clientY-a.top;

  const cx=b.left-a.left+b.width/2;
  const cy=b.top-a.top+b.height/2;

  let dx=cx-px;
  let dy=cy-py;

  const len=Math.hypot(dx,dy)||1;
  dx/=len; dy/=len;

  x+=dx*80;
  y+=dy*80;

  x=clamp(x,-a.width*.4,a.width*.4);
  y=clamp(y,-a.height*.3,a.height*.3);

  noBtn.style.transform=`translate(${x}px,${y}px)`;
}

arena.addEventListener('mousemove',e=>{
  const b=noBtn.getBoundingClientRect();
  const d=Math.hypot(
    e.clientX-(b.left+b.width/2),
    e.clientY-(b.top+b.height/2)
  );
  if(d<110) moveNo(e);
});

/* ---------- CONFETTI ---------- */

const canvas=document.getElementById('fx');
const ctx=canvas.getContext('2d');

let W,H,confetti=[],run=false;

function resize(){
  W=innerWidth;
  H=innerHeight;
  canvas.width=W;
  canvas.height=H;
}
addEventListener('resize',resize);
resize();

function spawn(){
  for(let i=0;i<300;i++){
    confetti.push({
      x:W/2,
      y:H*.3,
      vx:(Math.random()-.5)*8,
      vy:-Math.random()*8,
      g:.15,
      s:4+Math.random()*6,
      l:200
    });
  }
}

function tick(){
  if(!run) return;
  ctx.clearRect(0,0,W,H);

  confetti.forEach((p,i)=>{
    p.vy+=p.g;
    p.x+=p.vx;
    p.y+=p.vy;
    p.l--;

    ctx.fillStyle=`hsl(${Math.random()*360},90%,60%)`;
    ctx.fillRect(p.x,p.y,p.s,p.s);

    if(p.l<0) confetti.splice(i,1);
  });

  if(confetti.length) requestAnimationFrame(tick);
  else run=false;
}

/* ---------- YES ---------- */

const yes=document.getElementById('yes');
const title=document.getElementById('title');
const msg=document.getElementById('msg');

yes.onclick=()=>{

  title.textContent="–£—Ä–∞–∞–∞ üíò –¢—ã –º–æ—è –≤–∞–ª–µ–Ω—Ç–∏–Ω–∫–∞!";
  arena.style.display="none";

  msg.textContent="ü•∞üíûü•∞";
  msg.classList.add('show');

  spawn();
  if(!run){
    run=true;
    tick();
  }
};
</script>

</body>
</html>
